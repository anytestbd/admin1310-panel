<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ISP Admin Panel</title>
<style>
body{font-family:Arial;background:#f2f2f2}
.box{background:#fff;padding:15px;margin:10px auto;max-width:420px}
input,select,button{width:100%;padding:8px;margin:5px 0}
button{background:#0a7cff;color:#fff;border:none}
table{width:100%;border-collapse:collapse}
th,td{border:1px solid #ccc;padding:5px;font-size:13px}
</style>
</head>
<body>

<!-- LOGIN -->
<div class="box" id="loginBox">
<h3>Admin Login</h3>
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<button onclick="login()">Login</button>
</div>

<!-- PANEL -->
<div class="box" id="panel" style="display:none">
<h3>Add Customer</h3>

<input id="name" placeholder="Customer Name">
<input id="phone" placeholder="Phone">
<input id="address" placeholder="Address">
<input id="package" placeholder="Package (20MB)">
<input id="month" placeholder="Month (Jan 2025)">
<input id="amount" type="number" placeholder="Amount">

<select id="status">
<option value="Paid">Paid</option>
<option value="Due">Due</option>
</select>

<button onclick="saveCustomer()">Save Customer</button>

<hr>
<h3>Customer List</h3>
<table id="table">
<tr>
<th>Name</th><th>Pkg</th><th>Month</th><th>Amt</th><th>Status</th>
</tr>
</table>
</div>

<!-- Firebase v8 -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDBBh-fLDnd01KdBJ2cxoLTIacqca3wH6E",
  authDomain: "admin1310.firebaseapp.com",
  projectId: "admin1310",
};
firebase.initializeApp(firebaseConfig);

var auth = firebase.auth();
var db = firebase.firestore();

// LOGIN
function login(){
auth.signInWithEmailAndPassword(email.value,password.value)
.then(()=>{
loginBox.style.display="none";
panel.style.display="block";
loadData();
})
.catch(e=>alert(e.message));
}

// SAVE CUSTOMER
function saveCustomer(){
db.collection("customers").add({
name:name.value,
phone:phone.value,
address:address.value,
package:package.value,
month:month.value,
amount:amount.value,
status:status.value,
time:new Date()
}).then(()=>{
alert("Customer Added");
loadData();
});
}

// LOAD DATA
function loadData(){
table.innerHTML=`<tr>
<th>Name</th><th>Pkg</th><th>Month</th><th>Amt</th><th>Status</th>
</tr>`;
db.collection("customers").orderBy("time","desc").get()
.then(snap=>{
snap.forEach(d=>{
let x=d.data();
table.innerHTML+=`
<tr>
<td>${x.name}</td>
<td>${x.package}</td>
<td>${x.month}</td>
<td>${x.amount}</td>
<td>${x.status}</td>
</tr>`;
});
});
}
</script>

</body>
</html>